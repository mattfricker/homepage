"use strict";var express=require("express"),logger=require("morgan"),MongoClient=require("mongodb").MongoClient,assert=require("assert"),env=process.env.NODE_ENV=process.env.NODE_ENV||"dev",app=express(),port=3030,indexFile="dev"===env?__dirname+"/src/client/index.html":__dirname+"/index.html";app.get("/",function(o,e){e.sendFile(indexFile)}),app.use(express["static"](__dirname)),app.listen(port),console.log("Listening on port "+port+"..."),MongoClient.connect("mongodb://localhost:27017/blog",function(o,e){assert.equal(null,o),console.log("Successfully connected to MongoDV"),app.get("/blogList",function(o,n){e.collection("posts").find({},{_id:0}).toArray(function(o,e){n.send({posts:e})})}),app.get("/blogPost/:postId",function(o,n){var t=Number(o.params.postId);console.log("id is "+t),e.collection("posts").find({postId:t},{_id:0}).toArray(function(o,e){n.send({post:e})})}),app.get("/portfolio",function(o,n){e.collection("portfolio").find({},{_id:0}).toArray(function(o,e){n.send({portfolio:e})})})});