"use strict";var express=require("express"),logger=require("morgan"),MongoClient=require("mongodb").MongoClient,assert=require("assert"),env=process.env.NODE_ENV=process.env.NODE_ENV||"dev",app=express(),port=3030,indexFile="dev"===env?__dirname+"/src/client/index.html":__dirname+"/index.html";app.get("/",function(e,o){o.sendFile(indexFile)}),app.use(express["static"](__dirname)),app.listen(port),console.log("Listening on port "+port+"..."),MongoClient.connect("mongodb://localhost:27017/blog",function(e,o){assert.equal(null,e),console.log("Successfully connected to MongoDV"),app.get("/blogList",function(e,n){o.collection("posts").find({}).toArray(function(e,o){n.send({posts:o})})}),app.get("/blogPost/:postId",function(e,n){var s=Number(e.params.postId);console.log("id is "+s),o.collection("posts").find({postId:s}).toArray(function(e,o){n.send({post:o})})})});